<h1 class="text-3xl font-bold text-forest-800 mb-6">Modifier le contenu</h1>

<div class="bg-white rounded-lg shadow p-6 max-w-4xl">
  <%= form_with model: [:admin, @page_content], class: "space-y-6" do |f| %>
    <% if @page_content.errors.any? %>
      <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
        <ul>
          <% @page_content.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="bg-gray-100 p-3 rounded">
      <span class="text-sm text-gray-600">Section : </span>
      <span class="font-medium"><%= PageContent.slug_options.find { |o| o[1] == @page_content.slug }&.first || @page_content.slug %></span>
    </div>

    <div>
      <%= f.label :title, "Titre", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :title, class: "w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-forest-500" %>
    </div>

    <div>
      <%= f.label :body, "Contenu", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_area :body, rows: 15, class: "w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-forest-500 font-mono text-sm" %>
      <p class="text-sm text-gray-500 mt-1">Vous pouvez utiliser du HTML pour la mise en forme.</p>
    </div>

    <div class="flex gap-4">
      <%= f.submit "Enregistrer", class: "bg-forest-600 text-white px-6 py-2 rounded hover:bg-forest-700 transition-colors cursor-pointer" %>
      <%= link_to "Annuler", admin_page_contents_path, class: "bg-gray-300 text-gray-700 px-6 py-2 rounded hover:bg-gray-400 transition-colors" %>
    </div>
  <% end %>
</div>
